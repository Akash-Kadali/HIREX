<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#0a1020" />

  <title>HIREX ‚Äî High Resume eXpert v1.1.0</title>
  <meta name="description" content="AI-powered LaTeX resume optimizer for job-aligned, ATS-safe output." />
  <meta name="author" content="Sri Akash Kadali" />

  <link rel="icon" type="image/png" href="/static/assets/favicon.png" />
  <!-- ‚úÖ Unified Styles (v1.1.0) -->
  <link rel="stylesheet" href="/static/css/base.css?v=1.1.0" />
  <link rel="stylesheet" href="/static/css/animations.css?v=1.1.0" />
  <link rel="stylesheet" href="/static/css/app.css?v=1.1.0" />

  <style>
    /* ----------- New Elements ----------- */
    #progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      height: 3px;
      width: 0%;
      background: linear-gradient(90deg, #6ea8fe, #9f78ff);
      transition: width .35s ease;
      z-index: 2000;
    }

    .theme-toggle {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.15);
      color: #fff;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: grid;
      place-items: center;
      cursor: pointer;
      transition: background .25s ease;
    }
    .theme-toggle:hover { background: rgba(255,255,255,0.2); }

    @media (max-width: 880px) {
      .theme-toggle { right: .75rem; top: .75rem; }
    }

    /* Sidebar Mobile Toggle */
    .menu-toggle {
      display: none;
      font-size: 1.4rem;
      background: none;
      border: none;
      color: #fff;
      cursor: pointer;
    }
    @media (max-width: 880px) {
      .menu-toggle { display: block; }
      body.nav-open .sidebar {
        transform: translateX(0);
        box-shadow: 0 0 40px rgba(0,0,0,0.6);
      }
      .sidebar {
        position: fixed;
        top: 0; left: 0;
        transform: translateX(-100%);
        transition: transform .35s ease;
        width: 70%;
        max-width: 260px;
        height: 100vh;
        z-index: 999;
      }
    }
  </style>
</head>

<body class="page-enter" data-app="hirex">
  <div id="progress-bar"></div>

  <!-- ========================= SIDEBAR ========================= -->
  <aside class="sidebar">
    <div class="brand">
      <img src="/static/assets/logo.png" alt="HIREX Logo" />
      <span class="logo-text">HIREX</span>
    </div>
    <ul class="vnav">
      <li><a href="/index.html" aria-current="page">üè† Home</a></li>
      <li><a href="/preview.html">üìÑ Preview</a></li>
      <li><a href="/about.html">‚ÑπÔ∏è About</a></li>
      <li><a href="/help.html">‚ùì Help</a></li>
    </ul>
    <button class="cta-primary">Get Started</button>
  </aside>

  <button class="menu-toggle" id="menuToggle">‚ò∞</button>
  <button class="theme-toggle" id="themeToggle" title="Toggle theme">üåó</button>

  <!-- ========================= MAIN ========================= -->
  <main class="console" id="content">
    <div class="main-inner">
      <h1 class="page-title anim rise">High Resume eXpert</h1>
      <p class="muted">
        Upload your <strong>.tex</strong> resume and paste the job description.<br />
        HIREX auto-detects the company and role, optimizes bullet points, and can optionally refine tone with Humanize AI.
      </p>

      <section class="card anim blur-rise">
        <form id="optimize-form" class="space-y-4" novalidate>
          <div class="field">
            <label for="resume">Base Resume (.tex)</label>
            <input type="file" id="resume" name="resume" accept=".tex" required />
          </div>

          <div class="field">
            <label for="jd">Job Description</label>
            <textarea id="jd" name="jd" rows="8" placeholder="Paste the full job description here‚Ä¶" required></textarea>
          </div>

          <div class="field">
            <label style="display:flex;align-items:center;gap:.5rem;">
              <input type="checkbox" id="use_humanize" />
              Apply Humanize AI (tone refinement)
            </label>
          </div>

          <div class="cta-container">
            <button type="submit" class="cta-primary">üöÄ Optimize Resume</button>
            <button type="reset" class="cta-secondary">Reset</button>
          </div>
        </form>
      </section>

      <section class="card anim fade">
        <p>
          ‚öôÔ∏è Once optimized, view and download both versions on the
          <a class="special-link" href="/preview.html">Preview</a> page.
        </p>
      </section>
    </div>
  </main>

  <!-- ========================= FOOTER ========================= -->
  <footer>
    &copy; 2025 <strong>HIREX</strong> ‚Äî Developed by <strong>Sri Akash Kadali</strong> |
    Powered by <strong>FastAPI</strong> + <strong>LaTeX</strong> |
    <a href="https://github.com/Akash-Kadali" target="_blank" rel="noopener">GitHub</a>
  </footer>

  <!-- ========================= TOAST + SCRIPTS ========================= -->
  <div id="toast" role="status" aria-live="polite"></div>
  <script src="/static/js/util.js?v=1.1.0" defer></script>
  <script src="/static/js/ui.js?v=1.1.0" defer></script>
  <script src="/static/js/main.js?v=1.1.0" defer></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // ---------- Sidebar Toggle ----------
      const menuToggle = document.getElementById("menuToggle");
      menuToggle?.addEventListener("click", () => {
        document.body.classList.toggle("nav-open");
      });

      // ---------- Theme Toggle ----------
      const themeToggle = document.getElementById("themeToggle");
      themeToggle?.addEventListener("click", () => {
        const html = document.documentElement;
        const current = html.getAttribute("data-theme") || "dark";
        const next = current === "dark" ? "light" : "dark";
        html.setAttribute("data-theme", next);
        localStorage.setItem("hirex-theme", next);
        HIREX?.toast?.(`üåó Switched to ${next} mode`);
      });

      // ---------- Progress Bar Simulation ----------
      const form = document.getElementById("optimize-form");
      const bar = document.getElementById("progress-bar");
      form?.addEventListener("submit", () => {
        bar.style.width = "15%";
        let p = 15;
        const interval = setInterval(() => {
          p = Math.min(95, p + Math.random() * 10);
          bar.style.width = p + "%";
        }, 400);
        document.addEventListener("hirex-finish", () => {
          clearInterval(interval);
          bar.style.width = "100%";
          setTimeout(() => (bar.style.width = "0%"), 1200);
        }, { once: true });
      });

      // ---------- Debug ----------
      HIREX?.debugLog?.("INDEX PAGE LOADED", {
        version: "v1.1.0",
        layout: "app.css"
      });
    });
  </script>
</body>
</html>
